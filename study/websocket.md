概述
----

> **WebSocket 是什么**

   WebSocket 是一种网络通信协议。[RFC6455](https://tools.ietf.org/html/rfc6455) 定义了它的通讯协议。

   WebSocket 是Html5 开始提供的一种在单个TCP 连接上进行全双工通讯的协议。

> **WebSocket由来**

   Http 协议是一种无状态的、无连接的、单向的应用层协议。它采用了请求/响应模型。通讯请求只能由客户端发起，服务端对请求做出应答处理。

   *因此 Http 协议无法实现服务器主动向客户端发起消息*

   这种单向请求的特点，注定了如果服务器有连续的状态变化，客户端要获知就非常麻烦。大多数 Web 应用程序将通过频繁的异步JavaScript和XML（AJAX）请求实现长轮询。轮询的效率低，非常浪费资源（因为必须不停连接，或者 HTTP 连接始终打开）

![Alt ajax-long-polling.png](../_media/websocket/ajax-long-polling.png)

   因此，工程师们一直在思考，有没有更好的方法。WebSocket 就是这样发明的。WebSocket 连接允许客户端和服务器之间进行全双工通信，以便任一方都可以通过建立的连接将数据推送到另一端。WebSocket 只需要建立一次连接，就可以一直保持连接状态。这相比于轮询方式的不停建立连接显然效率要大大提高

1
---

2
----

3
-----

4
--------